<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_macro">
    <sys_ui_macro action="INSERT_OR_UPDATE">
        <active>true</active>
        <category>general</category>
        <description/>
        <media_type/>
        <name>input_formgroup_default_service</name>
        <scoped_name>x_pd_integration_input_formgroup_default_service</scoped_name>
        <sys_class_name>sys_ui_macro</sys_class_name>
        <sys_created_by>PagerDuty_v8.0</sys_created_by>
        <sys_created_on>2020-10-05 09:41:39</sys_created_on>
        <sys_id>8ea0516b2f231010926d59a72799b69e</sys_id>
        <sys_mod_count>21</sys_mod_count>
        <sys_name>input_formgroup_default_service</sys_name>
        <sys_package display_value="PagerDuty Incident Resolution Platform" source="x_pd_integration">39a9d9664f834e00dd657bb28110c77b</sys_package>
        <sys_policy/>
        <sys_scope display_value="PagerDuty Incident Resolution Platform">39a9d9664f834e00dd657bb28110c77b</sys_scope>
        <sys_update_name>sys_ui_macro_8ea0516b2f231010926d59a72799b69e</sys_update_name>
        <sys_updated_by>PagerDuty_v8.0</sys_updated_by>
        <sys_updated_on>2020-12-07 18:09:58</sys_updated_on>
        <xml><![CDATA[<?xml version="1.0" encoding="utf-8" ?>
<j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null">
  <style>
    #provision-service-btn {
      display: none;
      width: 170px;
    }
    .flex {
      display: flex;
    }
    .linky-btn {
      justify-content: center;
      margin-left: 0.5rem;
      min-width: 32px;
    }
  </style>
  <div id="default-service-div">
    <label class="control-label" for="${HTML:jvar_name}">${HTML:jvar_label}</label>
    <j2:set_if var="jvar_class" test="${HTML:jvar_value == ''}" true="input-group" false="" />
    <div class="${HTML:jvar_class} flex">

      <j:if test="${HTML:jvar_enabled == 'yes'}">
        <input type="${HTML:jvar_type}" class="form-control" id="${HTML:jvar_name}"
          name="${HTML:jvar_name}" placeholder="${HTML:jvar_placeholder}"
          aria-describedby="${HTML:jvar_name}_help" value="${HTML:jvar_value}" mandatory="mandatory" />
        <span class="input-group-btn">
          <button class="btn btn-info" id="provision-service-btn">Provision default service</button>
        </span>
      </j:if>

      <j:if test="${HTML:jvar_enabled != 'yes'}">
        <input type="${HTML:jvar_type}" class="form-control" name="${HTML:jvar_name}"
          aria-describedby="${HTML:jvar_name}_help" value="${HTML:jvar_value}" disabled="disabled" />
        <span class="input-group-btn">
          <button class="btn btn-info" id="provision-service-btn" disabled="disabled">Provision default service</button>
        </span>
      </j:if>

      <g:evaluate var="jvar_pd_base_url" expression="gs.getProperty('x_pd_integration.instance_url')" />
      <button type="button" class="btn btn-default icon-link linky-btn"
        id="${HTML:jvar_name}-linky-btn"
        onclick="openPagerDuty_${HTML:jvar_name}();"
        title="${HTML:gs.getMessage('Open in PagerDuty')}">
      </button>
      <script>
        function openPagerDuty_${HTML:jvar_name}() {
          var go = confirm("${HTML:gs.getMessage('PagerDuty will open in a new window')}");
          if (!go) {
            return;
          }
          var id = document.getElementById("${HTML:jvar_name}").value;
          var pdUrl = "${HTML:jvar_pd_base_url}/service-directory/" + id;
          g_navigation.open(pdUrl, "_blank");
        }
      </script>

    </div>
  </div>
  <span id="${HTML:jvar_name}_help" class="help-block"></span>
</j:jelly>
]]></xml>
    </sys_ui_macro>
</record_update>
